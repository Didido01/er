!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("neo4j-driver"),require("neo4j-driver-core"),require("vis-network/standalone"),require("deepmerge")):"function"==typeof define&&define.amd?define(["@babel/runtime-corejs3/core-js-stable/instance/slice","@babel/runtime-corejs3/core-js-stable/array/from","@babel/runtime-corejs3/core-js/get-iterator-method","@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols","@babel/runtime-corejs3/core-js-stable/instance/filter","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors","@babel/runtime-corejs3/core-js-stable/object/define-properties","@babel/runtime-corejs3/core-js-stable/object/define-property","@babel/runtime-corejs3/helpers/defineProperty","@babel/runtime-corejs3/helpers/slicedToArray","@babel/runtime-corejs3/helpers/typeof","@babel/runtime-corejs3/helpers/asyncToGenerator","@babel/runtime-corejs3/helpers/classCallCheck","@babel/runtime-corejs3/helpers/createClass","@babel/runtime-corejs3/helpers/classPrivateFieldSet","@babel/runtime-corejs3/helpers/classPrivateFieldGet","@babel/runtime-corejs3/core-js-stable/object/keys","@babel/runtime-corejs3/core-js-stable/instance/for-each","@babel/runtime-corejs3/regenerator","@babel/runtime-corejs3/core-js-stable/symbol","@babel/runtime-corejs3/core-js-stable/array/is-array","core-js/modules/es.function.name.js","core-js/modules/es.array.iterator.js","core-js/modules/es.object.to-string.js","core-js/modules/es.promise.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","@babel/runtime-corejs3/core-js-stable/instance/map","@babel/runtime-corejs3/core-js-stable/promise","@babel/runtime-corejs3/core-js-stable/set-timeout","@babel/runtime-corejs3/core-js-stable/instance/concat","@babel/runtime-corejs3/core-js-stable/instance/reduce","@babel/runtime-corejs3/core-js-stable/object/entries","@babel/runtime-corejs3/core-js-stable/weak-map","@babel/runtime-corejs3/core-js-stable/weak-set","neo4j-driver","neo4j-driver-core","vis-network/standalone","deepmerge"],r):"object"==typeof exports?exports.NeoVis=r(require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("neo4j-driver"),require("neo4j-driver-core"),require("vis-network/standalone"),require("deepmerge")):e.NeoVis=r(e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0])}(self,(function(e,r,t,n,o,s,i,a,l,c,u,d,b,p,v,h,f,j,m,y,g,x,w,k,q,E,C,_,I,N,A,T,S,O,F,P,D,M,R,L){return(()=>{"use strict";var U={915:e=>{e.exports=r},6:e=>{e.exports=x},192:e=>{e.exports=T},344:e=>{e.exports=o},207:e=>{e.exports=m},434:e=>{e.exports=I},909:e=>{e.exports=S},921:r=>{r.exports=e},86:e=>{e.exports=a},219:e=>{e.exports=l},607:e=>{e.exports=O},382:e=>{e.exports=s},105:e=>{e.exports=i},708:e=>{e.exports=n},322:e=>{e.exports=j},936:e=>{e.exports=N},952:e=>{e.exports=A},673:e=>{e.exports=g},602:e=>{e.exports=F},722:e=>{e.exports=P},465:e=>{e.exports=t},764:e=>{e.exports=b},698:e=>{e.exports=p},893:e=>{e.exports=f},369:e=>{e.exports=h},938:e=>{e.exports=v},845:e=>{e.exports=c},311:e=>{e.exports=u},418:e=>{e.exports=d},398:e=>{e.exports=y},441:e=>{e.exports=k},301:e=>{e.exports=w},853:e=>{e.exports=q},701:e=>{e.exports=E},259:e=>{e.exports=C},182:e=>{e.exports=_},53:e=>{e.exports=L},235:e=>{e.exports=D},52:e=>{e.exports=M},903:e=>{e.exports=R}},V={};function G(e){var r=V[e];if(void 0!==r)return r.exports;var t=V[e]={exports:{}};return U[e](t,t.exports,G),t.exports}G.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return G.d(r,{a:r}),r},G.d=(e,r)=>{for(var t in r)G.o(r,t)&&!G.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},G.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),G.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var H={};return(()=>{G.r(H),G.d(H,{NEOVIS_ADVANCED_CONFIG:()=>qe,NEOVIS_DEFAULT_CONFIG:()=>ke,NeoVis:()=>ze,NeoVisEvents:()=>e,default:()=>vr,migrateFromOldConfig:()=>pr,objectToTitleHtml:()=>dr,objectToTitleString:()=>br});var e,r=G(921),t=G.n(r),n=G(915),o=G.n(n),s=G(465),i=G.n(s),a=G(708),l=G.n(a),c=G(344),u=G.n(c),d=G(382),b=G.n(d),p=G(105),v=G.n(p),h=G(86),f=G.n(h),j=G(219),m=G.n(j),y=G(845),g=G.n(y),x=G(311),w=G.n(x),k=G(418),q=G.n(k),E=G(764),C=G.n(E),_=G(698),I=G.n(_),N=G(938),A=G.n(N),T=G(369),S=G.n(T),O=G(893),F=G.n(O),P=G(398),D=G.n(P),M=(G(301),G(441),G(853),G(701),G(259),G(182),G(673)),R=G.n(M),L=G(434),U=G.n(L),V=G(6),z=G.n(V),W=G(936),B=G.n(W),J=G(952),Q=G.n(J),Y=G(192),$=G.n(Y),K=G(322),X=G.n(K),Z=G(909),ee=G.n(Z),re=G(607),te=G.n(re),ne=G(602),oe=G.n(ne),se=G(722),ie=G.n(se),ae=G(207),le=G.n(ae),ce=G(235),ue=G.n(ce),de=G(52),be=G(903),pe={neo4j:{initialQuery:"MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"neo4j",driverConfig:{encrypted:"ENCRYPTION_OFF",trust:"TRUST_ALL_CERTIFICATES",maxConnectionPoolSize:100,connectionAcquisitionTimeout:1e4,disableLosslessIntegers:!0}},visJs:{nodes:{font:{size:26,strokeWidth:7},scaling:{}},edges:{arrows:{to:{enabled:!1}},length:200},layout:{improvedLayout:!1,hierarchical:{enabled:!1,sortMethod:"hubsize"}},physics:{adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}}}};function ve(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){e.CompletionEvent="completed",e.ClickNodeEvent="clickNode",e.ClickEdgeEvent="clickEdge",e.ErrorEvent="error"}(e||(e={}));var he=function(){function r(){var t;I()(this,r),g()(this,"_handlers",void 0),this._handlers=(t={},g()(t,e.CompletionEvent,[]),g()(t,e.ErrorEvent,[]),g()(t,e.ClickNodeEvent,[]),g()(t,e.ClickEdgeEvent,[]),t)}return A()(r,[{key:"register",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);this._handlers[e].push(r)}},{key:"generateEvent",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);var n,s=function(e,r){var n=void 0!==R()&&i()(e)||e["@@iterator"];if(!n){if(z()(e)||(n=function(e,r){var n;if(e){if("string"==typeof e)return ve(e,r);var s=t()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?o()(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ve(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw l}}}}(this._handlers[e]);try{for(s.s();!(n=s.n()).done;)(0,n.value)(r)}catch(e){s.e(e)}finally{s.f()}}}]),r}(),fe=G(53),je=G.n(fe);function me(e,r){var t=X()(e);if(l()){var n=l()(e);r&&(n=u()(n).call(n,(function(r){return b()(e,r).enumerable}))),t.push.apply(t,n)}return t}function ye(e){for(var r=1;r<arguments.length;r++){var t,n=null!=arguments[r]?arguments[r]:{};if(r%2)le()(t=me(Object(n),!0)).call(t,(function(r){g()(e,r,n[r])}));else if(v())f()(e,v()(n));else{var o;le()(o=me(Object(n))).call(o,(function(r){m()(e,r,b()(n,r))}))}}return e}function ge(e,r){var n=void 0!==R()&&i()(e)||e["@@iterator"];if(!n){if(z()(e)||(n=function(e,r){var n;if(e){if("string"==typeof e)return xe(e,r);var s=t()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?o()(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?xe(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw l}}}}function xe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function we(e,r,t){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var ke=R()(),qe=R()(),Ee=new(oe()),Ce=new(oe()),_e=new(oe()),Ie=new(oe()),Ne=new(oe()),Ae=new(oe()),Te=new(oe()),Se=new(oe()),Oe=new(ie()),Fe=new(ie()),Pe=new(ie()),De=new(ie()),Me=new(ie()),Re=new(ie()),Le=new(ie()),Ue=new(ie()),Ve=new(ie()),Ge=new(ie()),He=new(ie()),ze=function(){function r(e){I()(this,r),He.add(this),Ge.add(this),Ve.add(this),Ue.add(this),Le.add(this),Re.add(this),Me.add(this),De.add(this),Pe.add(this),Fe.add(this),Oe.add(this),Ee.set(this,{writable:!0,value:{nodes:new be.DataSet,edges:new be.DataSet}}),Ce.set(this,{writable:!0,value:null}),_e.set(this,{writable:!0,value:new he}),Ie.set(this,{writable:!0,value:void 0}),Ne.set(this,{writable:!0,value:void 0}),Ae.set(this,{writable:!0,value:void 0}),Te.set(this,{writable:!0,value:void 0}),Se.set(this,{writable:!0,value:void 0}),we(this,Fe,Be).call(this,e),we(this,Oe,We).call(this,e),we(this,Oe,We).call(this,pe)}return A()(r,[{key:"nodes",get:function(){return F()(this,Ee).nodes}},{key:"edges",get:function(){return F()(this,Ee).edges}},{key:"_config",get:function(){return F()(this,Ie)}},{key:"network",get:function(){return F()(this,Ce)}},{key:"render",value:function(r){var t,n=this,o=0,s=r||F()(this,Te),i=F()(this,Ne).session(F()(this,Ae)?{database:F()(this,Ae)}:void 0),a=[];i.run(s,{limit:30}).subscribe({onNext:function(e){o++,we(n,Oe,We).call(n,"CLASS NAME"),we(n,Oe,We).call(n,null==e?void 0:e.constructor.name),we(n,Oe,We).call(n,e);var r=U()(e).call(e,function(){var e=C()(D().mark((function e(r){var t,o,s,i,a,l,c,u,d,b,p,v;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we(n,Oe,We).call(n,"Constructor:"),we(n,Oe,We).call(n,null==r?void 0:r.constructor.name),!(0,de.isNode)(r)){e.next=9;break}return e.next=5,we(n,Ge,sr).call(n,r);case 5:t=e.sent;try{F()(n,Ee).nodes.update(t)}catch(e){we(n,Oe,We).call(n,e,"error")}e.next=89;break;case 9:if(!(0,de.isRelationship)(r)){e.next=16;break}return e.next=12,we(n,He,ar).call(n,r);case 12:o=e.sent,F()(n,Ee).edges.update(o),e.next=89;break;case 16:if(!(0,de.isPath)(r)){e.next=59;break}return we(n,Oe,We).call(n,"PATH"),we(n,Oe,We).call(n,r),e.next=21,we(n,Ge,sr).call(n,r.start);case 21:return s=e.sent,e.next=24,we(n,Ge,sr).call(n,r.end);case 24:i=e.sent,F()(n,Ee).nodes.update(s),F()(n,Ee).nodes.update(i),a=ge(r.segments),e.prev=28,a.s();case 30:if((l=a.n()).done){e.next=49;break}return c=l.value,e.t0=F()(n,Ee).nodes,e.next=35,we(n,Ge,sr).call(n,c.start);case 35:return e.t1=e.sent,e.t0.update.call(e.t0,e.t1),e.t2=F()(n,Ee).nodes,e.next=40,we(n,Ge,sr).call(n,c.end);case 40:return e.t3=e.sent,e.t2.update.call(e.t2,e.t3),e.t4=F()(n,Ee).edges,e.next=45,we(n,He,ar).call(n,c.relationship);case 45:e.t5=e.sent,e.t4.update.call(e.t4,e.t5);case 47:e.next=30;break;case 49:e.next=54;break;case 51:e.prev=51,e.t6=e.catch(28),a.e(e.t6);case 54:return e.prev=54,a.f(),e.finish(54);case 57:e.next=89;break;case 59:if(!z()(r)){e.next=89;break}u=ge(r),e.prev=61,u.s();case 63:if((d=u.n()).done){e.next=81;break}if(b=d.value,we(n,Oe,We).call(n,"Array element constructor:"),we(n,Oe,We).call(n,null==b?void 0:b.constructor.name),!(0,de.isNode)(b)){e.next=74;break}return e.next=70,we(n,Ge,sr).call(n,b);case 70:p=e.sent,F()(n,Ee).nodes.update(p),e.next=79;break;case 74:if(!(0,de.isRelationship)(b)){e.next=79;break}return e.next=77,we(n,He,ar).call(n,b);case 77:v=e.sent,F()(n,Ee).edges.update(v);case 79:e.next=63;break;case 81:e.next=86;break;case 83:e.prev=83,e.t7=e.catch(61),u.e(e.t7);case 86:return e.prev=86,u.f(),e.finish(86);case 89:case"end":return e.stop()}}),e,null,[[28,51,54,57],[61,83,86,89]])})));return function(r){return e.apply(this,arguments)}}());a.push(B().all(r))},onCompleted:(t=C()(D().mark((function r(){var t,s,l,c;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B().all(a);case 2:return r.next=4,i.close();case 4:F()(n,Ce)||(s=je()(pe.visJs,null!==(t=F()(n,Ie).visConfig)&&void 0!==t?t:{}),l=F()(n,Se),we(n,Oe,We).call(n,F()(n,Ee).nodes),we(n,Oe,We).call(n,F()(n,Ee).edges),S()(n,Ce,new be.Network(l,F()(n,Ee),s))),we(n,Oe,We).call(n,"completed"),Q()((function(){F()(n,Ce).stopSimulation()}),1e4),F()(n,_e).generateEvent(e.CompletionEvent,{record_count:o}),c=n,F()(n,Ce).on("click",(function(r){if(r.nodes.length>0){var t=this.getNodeAt(r.pointer.DOM);F()(c,_e).generateEvent(e.ClickNodeEvent,{nodeId:t,node:F()(c,Ee).nodes.get(t)})}else if(r.edges.length>0){var n=this.getEdgeAt(r.pointer.DOM);F()(c,_e).generateEvent(e.ClickEdgeEvent,{edgeId:n,edge:F()(c,Ee).edges.get(n)})}}));case 10:case"end":return r.stop()}}),r)}))),function(){return t.apply(this,arguments)}),onError:function(r){we(n,Oe,We).call(n,r,"error"),F()(n,_e).generateEvent(e.ErrorEvent,{error_msg:r})}})}},{key:"clearNetwork",value:function(){F()(this,Ee).nodes.clear(),F()(this,Ee).edges.clear()}},{key:"registerOnEvent",value:function(e,r){F()(this,_e).register(e,r)}},{key:"reinit",value:function(e){we(this,Fe,Be).call(this,e),this.render()}},{key:"reload",value:function(){this.clearNetwork(),this.render()}},{key:"stabilize",value:function(){F()(this,Ce).stopSimulation(),we(this,Oe,We).call(this,"Calling stopSimulation")}},{key:"renderWithCypher",value:function(e){this.clearNetwork(),S()(this,Te,e),this.render()}},{key:"updateWithCypher",value:function(e){this.render(e)}}]),r}();function We(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";("log"!==r||F()(this,Ie).console_debug)&&console[r](e)}function Be(e){var r,t,n,o,s,i,a,l,c,u,d;if(e.nonFlat&&e.defaultLabelConfig){if((u=e.defaultLabelConfig)[qe])throw new Error("non flat config can't use NEOVIS_ADVANCED_CONFIG, read the doc to see how the config should look");if((d=e.defaultRelationshipsConfig)[qe])throw new Error("non flat config can't use NEOVIS_ADVANCED_CONFIG, read the doc to see how the config should look")}else{var b,p;u=null===(b=e.labels)||void 0===b?void 0:b[ke],d=null===(p=e.relationships)||void 0===p?void 0:p[ke]}if(u)for(var v=0,h=X()(e.labels);v<h.length;v++){var f,j,m,y,x,w=h[v];e=e.nonFlat?ye(ye({},e),{},{labels:ye(ye({},e.labels),{},g()({},w,je()(u,null===(f=e.labels)||void 0===f?void 0:f[w])))}):ye(ye({},e),{},{labels:ye(ye({},e.labels),{},g()({},w,ye(ye({},je()(u,null===(j=e.labels)||void 0===j?void 0:j[w])),{},g()({},qe,je()(null!==(m=u[qe])&&void 0!==m?m:{},null!==(y=(null===(x=e.labels)||void 0===x?void 0:x[w])[qe])&&void 0!==y?y:{})))))})}if(d)for(var k=0,q=X()(e.relationships);k<q.length;k++){var E,C,_,I,N,A=q[k];e=e.nonFlat?ye(ye({},e),{},{relationships:ye(ye({},e.relationships),{},g()({},A,je()(d,null===(E=e.relationships)||void 0===E?void 0:E[A])))}):ye(ye({},e),{},{relationships:ye(ye({},e.labels),{},g()({},A,ye(ye({},je()(d,null===(C=e.relationships)||void 0===C?void 0:C[A])),{},g()({},qe,je()(null!==(_=d[qe])&&void 0!==_?_:{},null!==(I=(null===(N=e.relationships)||void 0===N?void 0:N[A])[qe])&&void 0!==I?I:{})))))})}S()(this,Ie,e),S()(this,Ne,e.neo4j instanceof ue().driver?e.neo4j:ue().driver(null!==(r=null===(t=e.neo4j)||void 0===t?void 0:t.server_url)&&void 0!==r?r:pe.neo4j.neo4jUri,ue().auth.basic(null!==(n=null===(o=e.neo4j)||void 0===o?void 0:o.server_user)&&void 0!==n?n:pe.neo4j.neo4jUser,null!==(s=null===(i=e.neo4j)||void 0===i?void 0:i.server_password)&&void 0!==s?s:pe.neo4j.neo4jPassword),je()(pe.neo4j.driverConfig,null!==(a=null===(l=e.neo4j)||void 0===l?void 0:l.driverConfig)&&void 0!==a?a:{}))),S()(this,Ae,e.server_database),S()(this,Te,null!==(c=e.initial_cypher)&&void 0!==c?c:pe.neo4j.initialQuery),S()(this,Se,document.getElementById(e.container_id))}function Je(e,r){return Qe.apply(this,arguments)}function Qe(){return(Qe=C()(D().mark((function e(r,t){var n,o,s,i,a,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F()(this,Ne).session(F()(this,Ae)&&{database:F()(this,Ae)}),o=[],e.prev=2,e.next=5,n.readTransaction((function(e){return e.run(r,{id:t})}));case 5:s=e.sent,i=ge(s.records);try{for(i.s();!(a=i.n()).done;)l=a.value,le()(l).call(l,(function(e){o.push(e)}))}catch(e){i.e(e)}finally{i.f()}case 8:return e.prev=8,e.next=11,n.close();case 11:return e.finish(8);case 12:if(0!==o.length){e.next=16;break}return e.abrupt("return",void 0);case 16:if(1!==o.length){e.next=18;break}return e.abrupt("return",o.pop());case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this,[[2,,8,12]])})))).apply(this,arguments)}function Ye(e,r){return $e.apply(this,arguments)}function $e(){return($e=C()(D().mark((function e(r,t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r){e.next=4;break}return e.next=3,r(t);case 3:return e.abrupt("return",e.sent);case 4:throw new Error("Function type property field must be a function");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,r){if(e&&"object"===q()(e))for(var t=0,n=X()(e);t<n.length;t++){var o=n[t],s=e[o];s&&"object"===q()(s)?(r[o]||(r[o]={}),we(this,Me,Ke).call(this,s,r[o])):r[o]=s}}function Xe(e,r,t){if(e&&"object"===q()(e))for(var n=0,o=X()(e);n<o.length;n++){var s=o[n],i=e[s];if(i&&"object"===q()(i))r[s]||(r[s]={}),we(this,Me,Ke).call(this,i,r[s]);else{var a=e[s];r[s]=ur(a,t)}}}function Ze(e,r,t){return er.apply(this,arguments)}function er(){return(er=C()(D().mark((function e(r,t,n){var o,s,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==q()(r)){e.next=17;break}o=0,s=X()(r);case 2:if(!(o<s.length)){e.next=17;break}if(i=s[o],!(a=r[i])||"object"!==q()(a)){e.next=11;break}return t[i]||(t[i]={}),e.next=9,we(this,Le,Ze).call(this,a,t[i],n);case 9:e.next=14;break;case 11:return e.next=13,we(this,Pe,Je).call(this,a,n);case 13:t[i]=e.sent;case 14:o++,e.next=2;break;case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function rr(e,r,t){return tr.apply(this,arguments)}function tr(){return(tr=C()(D().mark((function e(r,t,n){var o,s,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==q()(r)){e.next=17;break}o=0,s=X()(r);case 2:if(!(o<s.length)){e.next=17;break}if(i=s[o],!(a=r[i])||"object"!==q()(a)){e.next=11;break}return t[i]||(t[i]={}),e.next=9,we(this,Ue,rr).call(this,a,t[i],n);case 9:e.next=14;break;case 11:return e.next=13,we(this,De,Ye).call(this,a,n);case 13:t[i]=e.sent;case 14:o++,e.next=2;break;case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function nr(e,r,t){return or.apply(this,arguments)}function or(){return(or=C()(D().mark((function e(r,t,n){var o,s,i,a,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(!F()(this,Ie).nonFlat){e.next=12;break}if(void 0===r[qe]){e.next=5;break}throw new Error("Advanced config and non flat config should not be together");case 5:o=(r=r).static,s=r.cypher,i=r.property,a=r.function,e.next=20;break;case 12:if(l=(r=r)[qe],i=r,void 0===l||"object"==q()(l)){e.next=17;break}throw new Error("Advanced config should be an object. See documentation for details.");case 17:s=null==l?void 0:l.cypher,o=null==l?void 0:l.static,a=null==l?void 0:l.function;case 20:return we(this,Re,Xe).call(this,i,t,n),we(this,Me,Ke).call(this,o,t),e.next=24,we(this,Le,Ze).call(this,s,t,t.id);case 24:return e.next=26,we(this,Ue,rr).call(this,a,t,n);case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function sr(e){return ir.apply(this,arguments)}function ir(){return(ir=C()(D().mark((function e(r){var t,n,o,s,i,a,l,c,u,d;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},u=r.labels[0],d=null!==(t=null!==(n=null===(o=F()(this,Ie))||void 0===o||null===(s=o.labels)||void 0===s?void 0:s[u])&&void 0!==n?n:null===(i=F()(this,Ie))||void 0===i?void 0:i.defaultLabelConfig)&&void 0!==t?t:null===(a=F()(this,Ie))||void 0===a||null===(l=a.labels)||void 0===l?void 0:l[ke],c.id=(0,de.isInt)(r.identity)?r.identity.toInt():r.identity,c.raw=r,e.next=7,we(this,Ve,nr).call(this,d,c,r);case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ar(e){return lr.apply(this,arguments)}function lr(){return(lr=C()(D().mark((function e(r){var t,n,o,s,i,a,l,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=null!==(n=null===(o=F()(this,Ie))||void 0===o||null===(s=o.relationships)||void 0===s?void 0:s[r.type])&&void 0!==n?n:F()(this,Ie).defaultRelationshipsConfig)&&void 0!==t?t:null===(i=F()(this,Ie))||void 0===i||null===(a=i.relationships)||void 0===a?void 0:a[ke],(c={}).id=(0,de.isInt)(r.identity)?r.identity.toInt():r.identity,c.from=(0,de.isInt)(r.start)?r.start.toInt():r.start,c.to=(0,de.isInt)(r.end)?r.end.toInt():r.end,c.raw=r,e.next=8,we(this,Ve,nr).call(this,l,c,r);case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function cr(e,r){var t;if(z()(r)&&r.length>1){var n,o="<strong>".concat(e,":</strong><br /><ul>"),s=ge(r);try{for(s.s();!(n=s.n()).done;){var i=n.value;o+="<li>".concat(i,"</li>")}}catch(e){s.e(e)}finally{s.f()}return o+"</ul>"}return $()(t="<strong>".concat(e,":</strong> ")).call(t,r,"<br>")}function ur(e,r){if("object"===q()(null==r?void 0:r.properties))return(0,de.isInt)(r.properties[e])?r.properties[e].toInt():r.properties[e];throw new Error("Neo4j object is not properly constructed")}function dr(e,r){var t="";r||(r=X()(e.properties));var n,o=ge(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,i=ur(s,e);i&&(t+=cr(s,i))}}catch(e){o.e(e)}finally{o.f()}var a=document.createElement("div");return a.innerHTML=t,a}function br(e,r){var t="";r||(r=X()(e.properties));var n,o=ge(r);try{for(o.s();!(n=o.n()).done;){var s,i=n.value,a=ur(i,e);a&&(t+=$()(s="".concat(i,": ")).call(s,a,"\n"))}}catch(e){o.e(e)}finally{o.f()}return t}function pr(e){var r,t,n,o,s;return{container_id:e.container_id,initial_cypher:e.initial_cypher,console_debug:e.console_debug,server_database:e.server_database,neo4j:{server_url:e.server_url,server_user:e.server_url,server_password:e.server_password,driverConfig:e.encrypted||e.trust?{encrypted:e.encrypted,trust:e.trust}:void 0},visConfig:e.arrows||e.hierarchical?{edges:e.arrows?{arrows:{to:{enabled:e.arrows}}}:void 0,layout:e.hierarchical?{enabled:e.hierarchical,sortMethod:e.hierarchical_sort_method}:void 0}:void 0,labels:e.labels?ee()(r=$()(t=te()(e.labels)).call(t,null!==(n=e.labels)&&void 0!==n&&n[ke]?[[ke,e.labels[ke]]]:[])).call(r,(function(e,r){var t=w()(r,2),n=t[0],o=t[1];return e[n]=g()({label:"function"!=typeof o.caption?o.caption:void 0,value:o.size,group:o.community},qe,{cypher:o.sizeCypher?{value:o.sizeCypher}:void 0,function:je()({title:function(e){return dr(e,o.title_properties)}},"function"==typeof o.caption?{label:o.caption}:{}),static:{font:o.font,shape:o.image?"image":"dot",image:o.image}}),e}),{}):void 0,relationships:e.relationships?ee()(o=$()(s=te()(e.relationships)).call(s,e.relationships[ke]?[[ke,e.relationships[ke]]]:[])).call(o,(function(e,r){var t=w()(r,2),n=t[0],o=t[1];return e[n]=g()({value:o.thickness},qe,{function:{title:o.caption?dr:void 0}}),e}),{}):void 0}}const vr=ze})(),H})()}));
//# sourceMappingURL=neovis-without-dependencies.js.map