!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("neo4j-driver"),require("vis-network/standalone"),require("deepmerge")):"function"==typeof define&&define.amd?define(["@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols","@babel/runtime-corejs3/core-js-stable/instance/filter","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor","@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors","@babel/runtime-corejs3/core-js-stable/object/define-properties","@babel/runtime-corejs3/core-js-stable/object/define-property","@babel/runtime-corejs3/core-js-stable/instance/slice","@babel/runtime-corejs3/core-js-stable/array/from","@babel/runtime-corejs3/core-js/get-iterator-method","@babel/runtime-corejs3/helpers/slicedToArray","@babel/runtime-corejs3/helpers/typeof","@babel/runtime-corejs3/helpers/asyncToGenerator","@babel/runtime-corejs3/helpers/classCallCheck","@babel/runtime-corejs3/helpers/createClass","@babel/runtime-corejs3/helpers/defineProperty","@babel/runtime-corejs3/helpers/classPrivateFieldSet","@babel/runtime-corejs3/helpers/classPrivateFieldGet","core-js/modules/es.function.name.js","core-js/modules/es.array.iterator.js","core-js/modules/es.object.to-string.js","core-js/modules/es.promise.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","@babel/runtime-corejs3/regenerator","@babel/runtime-corejs3/core-js-stable/symbol","@babel/runtime-corejs3/core-js-stable/array/is-array","@babel/runtime-corejs3/core-js-stable/object/keys","@babel/runtime-corejs3/core-js-stable/instance/for-each","@babel/runtime-corejs3/core-js-stable/instance/map","@babel/runtime-corejs3/core-js-stable/promise","@babel/runtime-corejs3/core-js-stable/set-timeout","@babel/runtime-corejs3/core-js-stable/instance/concat","@babel/runtime-corejs3/core-js-stable/instance/reduce","@babel/runtime-corejs3/core-js-stable/object/entries","@babel/runtime-corejs3/core-js-stable/weak-map","@babel/runtime-corejs3/core-js-stable/weak-set","neo4j-driver","vis-network/standalone","deepmerge"],r):"object"==typeof exports?exports.NeoVis=r(require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),require("@babel/runtime-corejs3/core-js-stable/instance/filter"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),require("@babel/runtime-corejs3/core-js-stable/object/define-properties"),require("@babel/runtime-corejs3/core-js-stable/object/define-property"),require("@babel/runtime-corejs3/core-js-stable/instance/slice"),require("@babel/runtime-corejs3/core-js-stable/array/from"),require("@babel/runtime-corejs3/core-js/get-iterator-method"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("@babel/runtime-corejs3/helpers/typeof"),require("@babel/runtime-corejs3/helpers/asyncToGenerator"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/helpers/classPrivateFieldSet"),require("@babel/runtime-corejs3/helpers/classPrivateFieldGet"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js-stable/symbol"),require("@babel/runtime-corejs3/core-js-stable/array/is-array"),require("@babel/runtime-corejs3/core-js-stable/object/keys"),require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),require("@babel/runtime-corejs3/core-js-stable/instance/map"),require("@babel/runtime-corejs3/core-js-stable/promise"),require("@babel/runtime-corejs3/core-js-stable/set-timeout"),require("@babel/runtime-corejs3/core-js-stable/instance/concat"),require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),require("@babel/runtime-corejs3/core-js-stable/object/entries"),require("@babel/runtime-corejs3/core-js-stable/weak-map"),require("@babel/runtime-corejs3/core-js-stable/weak-set"),require("neo4j-driver"),require("vis-network/standalone"),require("deepmerge")):e.NeoVis=r(e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0])}(self,(function(e,r,t,n,o,s,i,a,c,l,u,b,d,p,v,j,f,h,m,y,g,_,x,k,w,q,E,C,O,N,S,T,I,A,L,F,P,V,M){return(()=>{"use strict";var R={915:e=>{e.exports=a},6:e=>{e.exports=q},192:e=>{e.exports=T},344:e=>{e.exports=r},207:e=>{e.exports=C},434:e=>{e.exports=O},909:e=>{e.exports=I},921:e=>{e.exports=i},86:e=>{e.exports=o},219:e=>{e.exports=s},607:e=>{e.exports=A},382:e=>{e.exports=t},105:e=>{e.exports=n},708:r=>{r.exports=e},322:e=>{e.exports=E},936:e=>{e.exports=N},952:e=>{e.exports=S},673:e=>{e.exports=w},602:e=>{e.exports=L},722:e=>{e.exports=F},465:e=>{e.exports=c},764:e=>{e.exports=b},698:e=>{e.exports=d},893:e=>{e.exports=f},369:e=>{e.exports=j},938:e=>{e.exports=p},845:e=>{e.exports=v},311:e=>{e.exports=l},418:e=>{e.exports=u},398:e=>{e.exports=k},441:e=>{e.exports=m},301:e=>{e.exports=h},853:e=>{e.exports=y},701:e=>{e.exports=g},259:e=>{e.exports=_},182:e=>{e.exports=x},53:e=>{e.exports=M},235:e=>{e.exports=P},903:e=>{e.exports=V}},D={};function U(e){var r=D[e];if(void 0!==r)return r.exports;var t=D[e]={exports:{}};return R[e](t,t.exports,U),t.exports}U.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return U.d(r,{a:r}),r},U.d=(e,r)=>{for(var t in r)U.o(r,t)&&!U.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},U.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),U.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var H={};return(()=>{U.r(H),U.d(H,{NEOVIS_ADVANCED_CONFIG:()=>ke,NEOVIS_DEFAULT_CONFIG:()=>xe,NeoVis:()=>Ce,NeoVisEvents:()=>e,default:()=>Fe,migrateFromOldConfig:()=>Le,objectToTitleHtml:()=>Ie,objectToTitleString:()=>Ae});var e,r=U(708),t=U.n(r),n=U(344),o=U.n(n),s=U(382),i=U.n(s),a=U(105),c=U.n(a),l=U(86),u=U.n(l),b=U(219),d=U.n(b),p=U(921),v=U.n(p),j=U(915),f=U.n(j),h=U(465),m=U.n(h),y=U(311),g=U.n(y),_=U(418),x=U.n(_),k=U(764),w=U.n(k),q=U(698),E=U.n(q),C=U(938),O=U.n(C),N=U(845),S=U.n(N),T=U(369),I=U.n(T),A=U(893),L=U.n(A),F=(U(301),U(441),U(853),U(701),U(259),U(182),U(398)),P=U.n(F),V=U(673),M=U.n(V),R=U(322),D=U.n(R),z=U(207),G=U.n(z),W=U(434),B=U.n(W),J=U(936),Q=U.n(J),Y=U(952),$=U.n(Y),K=U(6),X=U.n(K),Z=U(192),ee=U.n(Z),re=U(909),te=U.n(re),ne=U(607),oe=U.n(ne),se=U(602),ie=U.n(se),ae=U(722),ce=U.n(ae),le=U(235),ue=U.n(le),be=U(903),de={neo4j:{initialQuery:"MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"neo4j",driverConfig:{encrypted:"ENCRYPTION_OFF",trust:"TRUST_ALL_CERTIFICATES",maxConnectionPoolSize:100,connectionAcquisitionTimeout:1e4,disableLosslessIntegers:!0}},visJs:{nodes:{font:{size:26,strokeWidth:7},scaling:{}},edges:{arrows:{to:{enabled:!1}},length:200},layout:{improvedLayout:!1,hierarchical:{enabled:!1,sortMethod:"hubsize"}},physics:{adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}}}};function pe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){e.CompletionEvent="completed",e.ClickNodeEvent="clickNode",e.ClickEdgeEvent="clickEdge",e.ErrorEvent="error"}(e||(e={}));var ve=function(){function r(){var t;E()(this,r),S()(this,"_handlers",void 0),this._handlers=(t={},S()(t,e.CompletionEvent,[]),S()(t,e.ErrorEvent,[]),S()(t,e.ClickNodeEvent,[]),S()(t,e.ClickEdgeEvent,[]),t)}return O()(r,[{key:"register",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);this._handlers[e].push(r)}},{key:"generateEvent",value:function(e,r){if(void 0===this._handlers[e])throw new Error("Unknown event: "+e);var t,n=function(e,r){var t=void 0!==M()&&m()(e)||e["@@iterator"];if(!t){if(X()(e)||(t=function(e,r){var t;if(e){if("string"==typeof e)return pe(e,r);var n=v()(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?f()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw s}}}}(this._handlers[e]);try{for(n.s();!(t=n.n()).done;)(0,t.value)(r)}catch(e){n.e(e)}finally{n.f()}}}]),r}(),je=U(53),fe=U.n(je);function he(e,r){var t=void 0!==M()&&m()(e)||e["@@iterator"];if(!t){if(X()(e)||(t=function(e,r){var t;if(e){if("string"==typeof e)return me(e,r);var n=v()(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?f()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw s}}}}function me(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ye(e,r){var n=D()(e);if(t()){var s=t()(e);r&&(s=o()(s).call(s,(function(r){return i()(e,r).enumerable}))),n.push.apply(n,s)}return n}function ge(e){for(var r=1;r<arguments.length;r++){var t,n=null!=arguments[r]?arguments[r]:{};if(r%2)G()(t=ye(Object(n),!0)).call(t,(function(r){S()(e,r,n[r])}));else if(c())u()(e,c()(n));else{var o;G()(o=ye(Object(n))).call(o,(function(r){d()(e,r,i()(n,r))}))}}return e}function _e(e,r,t){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var xe=M()(),ke=M()(),we=new(ie()),qe=new(ie()),Ee=new(ce()),Ce=function(){function r(e){E()(this,r),Ee.add(this),S()(this,"_data",{nodes:new be.DataSet,edges:new be.DataSet}),we.set(this,{writable:!0,value:null}),qe.set(this,{writable:!0,value:new ve}),S()(this,"_config",void 0),S()(this,"_driver",void 0),S()(this,"_database",void 0),S()(this,"_query",void 0),S()(this,"_container",void 0),this._init(e),this._consoleLog(e),this._consoleLog(de)}var t,n,o,s,i,a;return O()(r,[{key:"nodes",get:function(){return this._data.nodes}},{key:"edges",get:function(){return this._data.edges}},{key:"network",get:function(){return L()(this,we)}},{key:"_consoleLog",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";("log"!==r||this._config.console_debug)&&console[r](e)}},{key:"_init",value:function(e){var r,t,n,o,s,i,a,c,l,u,b,d,p;if(u=e.nonFlat&&e.defaultLabelConfig?e.defaultLabelConfig:null===(b=e.labels)||void 0===b?void 0:b[xe])for(var v=0,j=D()(e.labels);v<j.length;v++){var f,h=j[v];e=ge(ge({},e),{},{labels:ge(ge({},e.labels),{},S()({},h,fe()(u,null===(f=e.labels)||void 0===f?void 0:f[h])))})}if(d=e.nonFlat&&e.defaultLabelConfig?e.defaultRelationshipsConfig:null===(p=e.relationships)||void 0===p?void 0:p[xe])for(var m=0,y=D()(e.relationships);m<y.length;m++){var g=y[m];e=ge(ge({},e),{},{relationships:ge(ge({},e.relationships),{},S()({},g,fe()(d,e.relationships[g])))})}this._config=e,this._driver=e.neo4j instanceof ue().driver?e.neo4j:ue().driver(null!==(r=null===(t=e.neo4j)||void 0===t?void 0:t.server_url)&&void 0!==r?r:de.neo4j.neo4jUri,ue().auth.basic(null!==(n=null===(o=e.neo4j)||void 0===o?void 0:o.server_user)&&void 0!==n?n:de.neo4j.neo4jUser,null!==(s=null===(i=e.neo4j)||void 0===i?void 0:i.server_password)&&void 0!==s?s:de.neo4j.neo4jPassword),fe()(de.neo4j.driverConfig,null!==(a=null===(c=e.neo4j)||void 0===c?void 0:c.driverConfig)&&void 0!==a?a:{})),this._database=e.server_database,this._query=null!==(l=e.initial_cypher)&&void 0!==l?l:de.neo4j.initialQuery,this._container=document.getElementById(e.container_id)}},{key:"_runCypher",value:(a=w()(P().mark((function e(r,t){var n,o,s,i,a,c;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._driver.session(this._database&&{database:this._database}),o=[],e.prev=2,e.next=5,n.readTransaction((function(e){return e.run(r,{id:t})}));case 5:s=e.sent,i=he(s.records);try{for(i.s();!(a=i.n()).done;)c=a.value,G()(c).call(c,(function(e){o.push(e)}))}catch(e){i.e(e)}finally{i.f()}case 8:return e.prev=8,e.next=11,n.close();case 11:return e.finish(8);case 12:if(0!==o.length){e.next=16;break}return e.abrupt("return",void 0);case 16:if(1!==o.length){e.next=18;break}return e.abrupt("return",o.pop());case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this,[[2,,8,12]])}))),function(e,r){return a.apply(this,arguments)})},{key:"_runFunction",value:(i=w()(P().mark((function e(r,t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r){e.next=4;break}return e.next=3,r(t);case 3:return e.abrupt("return",e.sent);case 4:throw new Error("Function type property field must be a function");case 5:case"end":return e.stop()}}),e)}))),function(e,r){return i.apply(this,arguments)})},{key:"_buildStaticObject",value:function(e,r){if(e&&"object"===x()(e))for(var t=0,n=D()(e);t<n.length;t++){var o=n[t],s=e[o];s&&"object"===x()(s)?(r[o]||(r[o]={}),this._buildStaticObject(s,r[o])):r[o]=s}}},{key:"_buildPropertyNameObject",value:function(e,r,t){if(e&&"object"===x()(e))for(var n=0,o=D()(e);n<o.length;n++){var s=o[n],i=e[s];if(i&&"object"===x()(i))r[s]||(r[s]={}),this._buildStaticObject(i,r[s]);else{var a=e[s];r[s]=Te(a,t)}}}},{key:"_buildCypherObject",value:(s=w()(P().mark((function e(r,t,n){var o,s,i,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==x()(r)){e.next=17;break}o=0,s=D()(r);case 2:if(!(o<s.length)){e.next=17;break}if(i=s[o],!(a=r[i])||"object"!==x()(a)){e.next=11;break}return t[i]||(t[i]={}),e.next=9,this._buildCypherObject(a,t[i],n);case 9:e.next=14;break;case 11:return e.next=13,this._runCypher(a,n);case 13:t[i]=e.sent;case 14:o++,e.next=2;break;case 17:case"end":return e.stop()}}),e,this)}))),function(e,r,t){return s.apply(this,arguments)})},{key:"_buildFunctionObject",value:(o=w()(P().mark((function e(r,t,n){var o,s,i,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"object"!==x()(r)){e.next=17;break}o=0,s=D()(r);case 2:if(!(o<s.length)){e.next=17;break}if(i=s[o],!(a=r[i])||"object"!==x()(a)){e.next=11;break}return t[i]||(t[i]={}),e.next=9,this._buildFunctionObject(a,t[i],n);case 9:e.next=14;break;case 11:return e.next=13,this._runFunction(a,n);case 13:t[i]=e.sent;case 14:o++,e.next=2;break;case 17:case"end":return e.stop()}}),e,this)}))),function(e,r,t){return o.apply(this,arguments)})},{key:"buildNodeVisObject",value:(n=w()(P().mark((function e(r){var t,n,o,s,i,a,c,l,u,b;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={},u=r.labels[0],b=null!==(t=null!==(n=null===(o=this._config)||void 0===o||null===(s=o.labels)||void 0===s?void 0:s[u])&&void 0!==n?n:null===(i=this._config)||void 0===i?void 0:i.defaultLabelConfig)&&void 0!==t?t:null===(a=this._config)||void 0===a||null===(c=a.labels)||void 0===c?void 0:c[xe],l.id=ue().isInt(r.identity)?r.identity.toInt():r.identity,l.raw=r,e.next=7,_e(this,Ee,Oe).call(this,b,l,r);case 7:return e.abrupt("return",l);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"buildEdgeVisObject",value:(t=w()(P().mark((function e(r){var t,n,o,s,i,a,c,l,u;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=null!==(n=null===(o=this._config)||void 0===o||null===(s=o.relationships)||void 0===s?void 0:s[r.type])&&void 0!==n?n:null===(i=this._config)||void 0===i?void 0:i.defaultRelationshipConfig)&&void 0!==t?t:null===(a=this._config)||void 0===a||null===(c=a.relationships)||void 0===c?void 0:c[xe],(u={}).id=ue().isInt(r.identity)?r.identity.toInt():r.identity,u.from=ue().isInt(r.start)?r.start.toInt():r.start,u.to=ue().isInt(r.end)?r.end.toInt():r.end,u.raw=r,e.next=8,_e(this,Ee,Oe).call(this,l,u,r);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(r){var t,n=this,o=0,s=r||this._query,i=this._driver.session(this._database?{database:this._database}:void 0),a=[];i.run(s,{limit:30}).subscribe({onNext:function(e){o++,n._consoleLog("CLASS NAME"),n._consoleLog(null==e?void 0:e.constructor.name),n._consoleLog(e);var r=B()(e).call(e,function(){var e=w()(P().mark((function e(r){var t,o,s,i,a,c,l,u,b,d,p,v;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._consoleLog("Constructor:"),n._consoleLog(null==r?void 0:r.constructor.name),!(r instanceof ue().types.Node)){e.next=9;break}return e.next=5,n.buildNodeVisObject(r);case 5:t=e.sent;try{n._data.nodes.update(t)}catch(e){n._consoleLog(e,"error")}e.next=89;break;case 9:if(!(r instanceof ue().types.Relationship)){e.next=16;break}return e.next=12,n.buildEdgeVisObject(r);case 12:o=e.sent,n._data.edges.update(o),e.next=89;break;case 16:if(!(r instanceof ue().types.Path)){e.next=59;break}return n._consoleLog("PATH"),n._consoleLog(r),e.next=21,n.buildNodeVisObject(r.start);case 21:return s=e.sent,e.next=24,n.buildNodeVisObject(r.end);case 24:i=e.sent,n._data.nodes.update(s),n._data.nodes.update(i),a=he(r.segments),e.prev=28,a.s();case 30:if((c=a.n()).done){e.next=49;break}return l=c.value,e.t0=n._data.nodes,e.next=35,n.buildNodeVisObject(l.start);case 35:return e.t1=e.sent,e.t0.update.call(e.t0,e.t1),e.t2=n._data.nodes,e.next=40,n.buildNodeVisObject(l.end);case 40:return e.t3=e.sent,e.t2.update.call(e.t2,e.t3),e.t4=n._data.edges,e.next=45,n.buildEdgeVisObject(l.relationship);case 45:e.t5=e.sent,e.t4.update.call(e.t4,e.t5);case 47:e.next=30;break;case 49:e.next=54;break;case 51:e.prev=51,e.t6=e.catch(28),a.e(e.t6);case 54:return e.prev=54,a.f(),e.finish(54);case 57:e.next=89;break;case 59:if(!(r instanceof Array)){e.next=89;break}u=he(r),e.prev=61,u.s();case 63:if((b=u.n()).done){e.next=81;break}if(d=b.value,n._consoleLog("Array element constructor:"),n._consoleLog(null==d?void 0:d.constructor.name),!(d instanceof ue().types.Node)){e.next=74;break}return e.next=70,n.buildNodeVisObject(d);case 70:p=e.sent,n._data.nodes.update(p),e.next=79;break;case 74:if(!(d instanceof ue().types.Relationship)){e.next=79;break}return e.next=77,n.buildEdgeVisObject(d);case 77:v=e.sent,n._data.edges.update(v);case 79:e.next=63;break;case 81:e.next=86;break;case 83:e.prev=83,e.t7=e.catch(61),u.e(e.t7);case 86:return e.prev=86,u.f(),e.finish(86);case 89:case"end":return e.stop()}}),e,null,[[28,51,54,57],[61,83,86,89]])})));return function(r){return e.apply(this,arguments)}}());a.push(Q().all(r))},onCompleted:(t=w()(P().mark((function r(){var t,s,c,l;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q().all(a);case 2:return r.next=4,i.close();case 4:L()(n,we)||(s=fe()(de.visJs,null!==(t=n._config.visConfig)&&void 0!==t?t:{}),c=n._container,n._consoleLog(n._data.nodes),n._consoleLog(n._data.edges),I()(n,we,new be.Network(c,n._data,s))),n._consoleLog("completed"),$()((function(){L()(n,we).stopSimulation()}),1e4),L()(n,qe).generateEvent(e.CompletionEvent,{record_count:o}),l=n,L()(n,we).on("click",(function(r){if(r.nodes.length>0){var t=this.getNodeAt(r.pointer.DOM);L()(l,qe).generateEvent(e.ClickNodeEvent,{nodeId:t,node:l._data.nodes.get(t)})}else if(r.edges.length>0){var n=this.getEdgeAt(r.pointer.DOM);L()(l,qe).generateEvent(e.ClickEdgeEvent,{edgeId:n,edge:l._data.edges.get(n)})}}));case 10:case"end":return r.stop()}}),r)}))),function(){return t.apply(this,arguments)}),onError:function(r){n._consoleLog(r,"error"),L()(n,qe).generateEvent(e.ErrorEvent,{error_msg:r})}})}},{key:"clearNetwork",value:function(){this._data.nodes.clear(),this._data.edges.clear()}},{key:"registerOnEvent",value:function(e,r){L()(this,qe).register(e,r)}},{key:"reinit",value:function(e){this._init(e),this.render()}},{key:"reload",value:function(){this.clearNetwork(),this.render()}},{key:"stabilize",value:function(){L()(this,we).stopSimulation(),this._consoleLog("Calling stopSimulation")}},{key:"renderWithCypher",value:function(e){this.clearNetwork(),this._query=e,this.render()}},{key:"updateWithCypher",value:function(e){this.render(e)}}]),r}();function Oe(e,r,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=w()(P().mark((function e(r,t,n){var o,s,i,a,c;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(!this._config.nonFlat){e.next=12;break}if(void 0===r[ke]){e.next=5;break}throw new Error("Advanced config and non flat config should not be together");case 5:o=(r=r).static,s=r.cypher,i=r.property,a=r.function,e.next=20;break;case 12:if(c=(r=r)[ke],i=r,void 0===c||"object"==x()(c)){e.next=17;break}throw new Error("Advanced config should be an object. See documentation for details.");case 17:s=null==c?void 0:c.cypher,o=null==c?void 0:c.static,a=null==c?void 0:c.function;case 20:return this._buildPropertyNameObject(i,t,n),this._buildStaticObject(o,t),e.next=24,this._buildCypherObject(s,t,t.id);case 24:return e.next=26,this._buildFunctionObject(a,t,n);case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Se(e,r){var t;if(X()(r)&&r.length>1){var n,o="<strong>".concat(e,":</strong><br /><ul>"),s=he(r);try{for(s.s();!(n=s.n()).done;){var i=n.value;o+="<li>".concat(i,"</li>")}}catch(e){s.e(e)}finally{s.f()}return o+"</ul>"}return ee()(t="<strong>".concat(e,":</strong> ")).call(t,r,"<br>")}function Te(e,r){if("object"===x()(null==r?void 0:r.properties))return ue().isInt(r.properties[e])?r.properties[e].toInt():r.properties[e];throw new Error("Neo4j object is not properly constructed")}function Ie(e,r){var t="";r||(r=D()(e.properties));var n,o=he(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,i=Te(s,e);i&&(t+=Se(s,i))}}catch(e){o.e(e)}finally{o.f()}var a=document.createElement("div");return a.innerHTML=t,a}function Ae(e,r){var t="";r||(r=D()(e.properties));var n,o=he(r);try{for(o.s();!(n=o.n()).done;){var s,i=n.value,a=Te(i,e);a&&(t+=ee()(s="".concat(i,": ")).call(s,a,"\n"))}}catch(e){o.e(e)}finally{o.f()}return t}function Le(e){var r,t,n,o,s;return{container_id:e.container_id,initial_cypher:e.initial_cypher,console_debug:e.console_debug,server_database:e.server_database,neo4j:{server_url:e.server_url,server_user:e.server_url,server_password:e.server_password,driverConfig:e.encrypted||e.trust?{encrypted:e.encrypted,trust:e.trust}:void 0},visConfig:e.arrows||e.hierarchical?{edges:e.arrows?{arrows:{to:{enabled:e.arrows}}}:void 0,layout:e.hierarchical?{enabled:e.hierarchical,sortMethod:e.hierarchical_sort_method}:void 0}:void 0,labels:e.labels?te()(r=ee()(t=oe()(e.labels)).call(t,null!==(n=e.labels)&&void 0!==n&&n[xe]?[[xe,e.labels[xe]]]:[])).call(r,(function(e,r){var t=g()(r,2),n=t[0],o=t[1];return e[n]=S()({label:"function"!=typeof o.caption?o.caption:void 0,value:o.size,group:o.community},ke,{cypher:o.sizeCypher?{value:o.sizeCypher}:void 0,function:fe()({title:function(e){return Ie(e,o.title_properties)}},"function"==typeof o.caption?{label:o.caption}:{}),static:{font:o.font,shape:o.image?"image":"dot",image:o.image}}),e}),{}):void 0,relationships:e.relationships?te()(o=ee()(s=oe()(e.relationships)).call(s,e.relationships[xe]?[[xe,e.relationships[xe]]]:[])).call(o,(function(e,r){var t=g()(r,2),n=t[0],o=t[1];return e[n]=S()({value:o.thickness},ke,{function:{title:o.caption?Ie:void 0}}),e}),{}):void 0}}const Fe=Ce})(),H})()}));
//# sourceMappingURL=neovis-without-dependencies.js.map